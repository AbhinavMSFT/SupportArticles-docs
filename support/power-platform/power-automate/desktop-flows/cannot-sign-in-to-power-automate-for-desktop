---
title: Can't sign in to Power Automate for desktop
description: This article helps troubleshoot sign in related issues with Power Automate for desktop.
ms.reviewer: pefelesk
ms.date: 02/19/2024
ms.subservice: power-automate-desktop-flows
---
# Can't sign in to Power Automate for desktop

This article provides resolutions and workarounds to several sign in related issues.

## Generic sign in or sign out issues

Power Automate for desktop uses a file named **msalcache.bin3** to acquire tokens and authenticate users.

If you encounter errors while signing in or signing out, erase all the stored tokens by deleting this file. 

To delete the file, navigate to ```%localappdata%\Microsoft\Power Automate Desktop\Cache\MSI``` for MSI installations or ```%localappdata%\Microsoft\Power Automate Desktop\Cache\Store``` for MS Store installations. 

> [!NOTE]
> If the **AppData** folder isn't visible in your user folder, try to [display hidden files](https://support.microsoft.com/windows/show-hidden-files-0320fe58-0117-fd59-6851-9b7f9840fdb2). 

After deleting the **msalcache.bin3** file, close the Power Automate console, exit Power Automate from the system tray or restart the Power Automate service and try again to sign in. 

## Web Account Manager (WAM) errors

By default, Power Automate for desktop authenticates users through the Web Account Manager (WAM); a Windows component that ships with the Operating System and acts as an authentication broker. 

Learn more about WAM and related errors in [Using MSAL.NET with Web Account Manager (WAM)] (https://aka.ms/msal-net-wam) and [Interactive with WAM](https://learn.microsoft.com/entra/identity-platform/scenario-desktop-acquire-token-wam). 

## Wrong region selected

Before signing in, make sure you have selected your region correctly by clicking on the **Change region** option. 

:::image type="content" source="media/cannot-sign-in-to-power-automate-for-desktop/change-region.png" alt-text="Change region option in Power Automate console.":::

## Browser blocks cookies

On sign in, you receive the following message:

> We can't sign you in. Your browser is currently set to block cookies. You need to allow cookies to use this service.

To resolve this issue:

1. Go to **Control Panel** > **Internet Options** > **Security** > **Trusted Sites**.
1. Add the following URLs:

    - `login.microsoft.com`
    - `login.windows.net`
    - `login.microsoftonline.com`
    - `secure.aadcdn.microsoftonline-p.com`

## Can't sign in due to connectivity issue

### Symptoms

On sign in, you receive the following message:

> There was an issue during sign in. Try again later or contact an administrator.

### Verifying issue

Try to sign in to the [Power Automate Portal](https://flow.microsoft.com). If it works as expected, then the issue should be related to the local network configuration of the machine that hosts Power Automate for desktop.

### Cause

The machine that hosts Power Automate for desktop can't connect to the required domains. This issue could happen either because the domains are blocked on the network, or because you're using a proxy server that requires authentication.

For the latter, Power Automate for desktop can't authenticate with the proxy server, thus the communication fails. Note that the proxy server should be using automatic authentication with the user's Active Directory account.

### Resolution for the blocked domains issue

Approve the [Required services](/power-automate/ip-address-configuration#required-services) to which Power Automate connects. Ensure none of these services are blocked on your network.

Approve the [Desktop flows services required for runtime](/power-automate/ip-address-configuration#desktop-flows-services-required-for-runtime) to enable the connection from the local machine for the desktop flows runs.

### Resolution and workaround for the proxy authentication issue

To solve this issue, follow the steps described in [Proxy server related errors in Power Automate for desktop](proxy-error-console.md).

## Login window keeps popping up

### Symptoms

During signing in to Power Automate for desktop, the **login to your account** window pops up when you enter your credentials. If you select the question mark (**?**) icon to reset the account in **Login to your Microsoft account**, the login window disappears.

### Cause

Another process may run a named pipes server in the same machine. This process runs with elevated rights using the localhost endpoint and blocks other applications from using this endpoint.

To identify if another process is running:

1. Download the [Sysinternals Suite](/sysinternals/downloads/sysinternals-suite).
1. Extract the .zip file to a folder.
1. Run a command prompt as an administrator.
1. Navigate to the folder that Sysinternals Suite has been extracted to.
1. Run the following command:

    ```cmd
    handle net.pipe
    ```

   > [!NOTE]
   > Running this command should display a list of processes that use named pipes and the address they listen to.

1. You need to identify whether there's a process displaying the `EbmV0LnBpcGU6Ly8rLw==` string and decode the process using the following link:

    `https://www.base64decode.org/`

    For example:

    ```console
    PAD.BrowserNativeMessageHost.exe pid: 21064 type: Section 464: \Sessions\1\BaseNamedObjects\net.pipe:EbmV0LnBpcGU6Ly8rL0JST1dTRVJOQVRJVkVIT1NULzE2NjIwLzEv Microsoft.Management.Services.IntuneWindowsAgent.exe pid: 26708 type: Section 6AC: \BaseNamedObjects\net.pipe:EbmV0LnBpcGU6Ly8rL0lOVFVORU1BTkFHRU1FTlRFWFRFTlNJT04vU1RBVFVTU0VSVklDRS8= PipesTest.Server.exe pid: 6540 type: Section 3AC: \BaseNamedObjects\net.pipe:EbmV0LnBpcGU6Ly8rLw==
    ```

### Resolution

To fix this issue, the process that causes the issue should either stop running or, if it's an internal process, use a more specific endpoint, such as `net.pipe://localhost/something`.

### Workaround 1

As an alternate, ensure Power Automate for desktop is closed (from the taskbar, too), kill the process identified in previous steps, and try again to restart Power Automate for desktop.

### Workaround 2

If the other solutions aren't possible, specify Power Automate for desktop executables to run as administrator. This workaround may only solve the issue in some cases, and it causes a User Account Control (UAC) prompt to appear each time.
